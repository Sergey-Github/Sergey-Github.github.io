<p>Часть 1. <br />
<br />
1. Из каких пакетов состоит LAMP для чего нужны эти пакеты? <br />
2. Что такое Apache и Nginx чем они отличаются? <br />
3. Где в Linux хранятся основные лог файлы? <br />
4. Где Apache, Nginx, MySQL хранит лог файлы <br />
5. Что такое HTML, JAVASCRIPT, PHP, AJAX. В чем различие между JAVASCRIPT, AJAX и PHP <br />
6. Что такое PHP, как узнать информацию о текущей версии PHP и текущих настройка PHP. <br />
7. PHP как модуль Apache или PHP как FastCGI. Плюсы и минусы. <br />
8. Как настраиваются виртуальные хосты в связке Apache + Nginx. Схема. Принцип работы. <br />
9. Для чего нужный файлы .htaccess и .ftpaccess <br />
10. Какие варианты ограничений к директориям или файлам веб-сервера вы знаете. Назовите их. <br />
11. Для чего в Linux существуют /etc/hosts.allow и /etc/hosts.deny <br />
<br />
<br />
Часть 2. <br />
<br />
1. Вид взлома «Загрузка файлов». Способы защиты. <br />
2. Вид взлома «Register Globals». Способы защиты. <br />
3. SQL-инъекции. Способы защиты. <br />
4. XSS. Способы защиты. <br />
5. Что такое фишинг. Варианты использования. Способы защиты. <br />
6. Что такое DoS-атака. Виды DDoS-атак. Способы защиты. <br />
7. Как обнаружить DoS-атаку, какие признаки могут служить о наличии DDOS-атаки. <br />
8. Для чего чаще всего злоумышленники используют DOS-атаки? <br />
9. Для чего обычно злоумышленники используют SQL-инъекции? <br />
10. Для чего обычно злоумышленники используют XSS? <br />
11. Что такое PHP-Shell Для чего он используется. </p>

<p><b><i>1. Из каких пакетов состоит LAMP для чего нужны эти пакеты? </i></b></p>

<p><b><i>LAMP </i></b>— акроним, обозначающий набор (комплекс) серверного программного обеспечения, широко используемый во Всемирной паутине. LAMP назван по первым буквам входящих в его состав компонентов:</p>

<ul>
<li>Linux — операционная система Linux;</li>
<li>Apache — веб-сервер;</li>
<li>MySQL — СУБД;</li>
<li>PHP — язык программирования, используемый для создания веб-приложений (помимо PHP могут подразумеваться другие языки, такие как Perl и Python).</li>
</ul>

<p>Хотя изначально эти программные продукты не разрабатывались специально для работы друг с другом, такая связка стала весьма популярной из-за своей гибкости, производительности и низкой стоимости (все её составляющие являются открытыми и могут быть бесплатно загружены из Интернета). Набор LAMP входит в состав большинства дистрибутивов Linux и предоставляется многими хостинговыми компаниями.</p>

<p>· Linux — серверная операционная систем.</p>

<p>Linux— общее название Unix-подобных операционных систем, основанных на одноимённом ядре. Ядро Linux создаётся и распространяется в соответствии с моделью разработки свободного и открытого программного обеспечения.</p>

<p>Дистрибутивы Linux уже давно используются в качестве серверных операционных систем и заняли значительную долю этого рынка; по данным компании Netcraft на февраль 2014 года, семь из десяти самых надёжных интернет-компаний, предоставляющих хостинг, используют Linux на своих веб-серверах.</p>

<p>Linux является ключевым компонентом комплекса серверного программного обеспечения LAMP (Linux, Apache, MariaDB/MySQL, Perl/PHP/Python), который приобрёл популярность среди разработчиков и стал одной из наиболее распространённых платформ для хостинга веб-сайтов</p>

<p>· Apache HTTP-сервер – свободный веб-сервер.</p>

<p>Он позволяет подключать внешние модули для предоставления данных, использовать СУБД для аутентификации пользователей, модифицировать сообщения об ошибках и т. д.</p>

<p>Apache имеет встроенный механизм виртуальных хостов. Он позволяет полноценно обслуживать на одном IP-адресе множество сайтов (доменных имён), отображая для каждого из них собственное содержимое.</p>

<p>Для каждого виртуального хоста можно указать собственные настройки ядра и модулей, ограничить доступ ко всему сайту или отдельным файлам.</p>

<p>Apache имеет различные механизмы обеспечения безопасности и разграничения доступа к данным. Основными являются:</p>

<p>o Ограничение доступа к определённым директориям или файлам.</p>

<p>o Механизм авторизации пользователей для доступа к директории на основе HTTP-аутентификации (mod_auth_basic) и digest-аутентификации (mod_auth_digest).</p>

<p>o Ограничение доступа к определённым директориям или всему серверу, основанное на IP-адресах пользователей.</p>

<p>o Запрет доступа к определённым типам файлов для всех или части пользователей, например, запрет доступа к конфигурационным файлам и файлам баз данных.</p>

<p>o Существуют модули, реализующие авторизацию через СУБД или PAM.</p>

<p>· MySQL – это одна из самых популярных и самых распространенных систем управления базами данных (СУБД) в интернете. Ее применение идеально подходит для сайтов, как небольших, так и достаточно крупных.</p>

<p>Данное ПО позволяет подключаться к базе данных, отправлять SQL-запросы и получать ответ.</p>

<p>(Язык PHP полностью адаптирован к написанию Web+приложений и позволяет работать с базами данных. Это позволит генерировать запросы CУБД MySQL прямо с Web+страниц и генерировать новые страницы, содержащие результаты запросов к базе данных. Этот язык хорошо адаптирован для работы с Web+сервером Apache (самый популярный Web+сервер), упрощающим выборку данных и отображение результатов выборки. СУБД MySQL хорошо интегрируется с этим программным обеспечением и позволяет гибко комбинировать его по своему усмотрению в соответствии c поставленными задачами. Это интегрированный компонент, обладающий высокой степенью интеграции “все в одном”.)</p>

<p>· PHP— скриптовый язык общего назначения, интенсивно применяемый для разработки веб-приложений. В настоящее время поддерживается подавляющим большинством хостинг-провайдеров и является одним из лидеров среди языков, применяющихся для создания динамических веб-сайтов.</p>

<p>Популярность в области построения веб-сайтов определяется наличием большого набора встроенных средств для разработки веб-приложений. Основные из них:</p>

<p>° автоматическое извлечение POST и GET-параметров, а также переменных окружения веб-сервера в предопределённые массивы;</p>

<p>° взаимодействие с большим количеством различных систем управления базами данных (включая MySQL);</p>

<p>° автоматизированная отправка HTTP-заголовков;</p>

<p>° работа с HTTP-авторизацией;</p>

<p>° работа с cookies и сессиями;</p>

<p>° работа с локальными и удалёнными файлами, сокетами;</p>

<p>° обработка файлов, загружаемых на сервер;</p>

<p><b></b></p>

<p><b><i>2. Что такое Apache и Nginx чем они отличаются? </i></b></p>

<p><i>Apache</i> HTTP-сервер – свободный веб-сервер. Он позволяет подключать внешние модули для предоставления данных, использовать СУБД для аутентификации пользователей, модифицировать сообщения об ошибках и т. д.</p>

<p><i>Nginx</i> — веб-сервер и почтовый прокси-сервер, работающий на Unix-подобных операционных системах.</p>

<p>Apache и Nginx — 2 самых широко распространенных веб-сервера с открытым исходным кодом в мире. Вместе они обслуживают более 50% трафика во всем интернете. Оба решения способны работать с разнообразными рабочими нагрузками и взаимодействовать с другими приложениями для реализации полного веб-стека.</p>

<p>Несмотря на то, что у Apache и Nginx много схожих качеств, их нельзя рассматривать как полностью взаимозаменяемые решения. Каждый из них имеет собственные преимущества.</p>

<p>Распространенной схемой использования является размещение Nginx перед Apache в качестве реверс-прокси*. В такой конфигурации Nginx называют фронтендом**, а Apache — бэкендом**. При таком подходе Nginx будет обслуживать все входящие запросы клиентов, и мы получим выигрыш из-за его возможности обрабатывать множество конкурентных запросов.</p>

<p>Nginx будет самостоятельно обслуживать статический контент (изображения, html-файлы, javascript-скрипты и т.д.), а для динамического контента, например для запросов к PHP-страницам, будет передавать запрос к Apache, который будет рендерить (визуализировать) страницу, возвращать ее Nginx'у, а тот в свою очередь будет передавать ее пользователю.</p>

<p>Такая конфигурация очень популярна, Nginx используется в ней для сортировки запросов. Он обрабатывает сам те запросы, которые может и передает Apache только запросы, которые не может обслужить сам, снижая таким образом нагрузку на Apache.</p>

<p>* reverse proxy — тип прокси-сервера, который ретранслирует запросы клиентов из внешней сети на один или несколько серверов, логически расположенных во внутренней сети.</p>

<p>** Front-end и back-end — термины в программной инженерии, которые различают согласно принципу разделения ответственности между внешним представлением и внутренней реализацией соответственно. Front-end — интерфейс взаимодействия между пользователем и основной программно-аппаратной частью (back-end).</p>

<p>Отличия Apache и Nginx:</p>

<p>° Apache создает по одному процессу с одним потоком на каждый запрос.(традиционная модель)</p>

<p>Nginx создает процессы каждый из которых может обслуживать тысячи соединений.</p>

<p>° Apache может раздавать как статистический, так и динамический контент.</p>

<p>Nginx не имеет возможности самостоятельно обрабатывать запросы к динамическому контенту.</p>

<p>° Распределенная конфигурация против централизованной.</p>

<p>Apache имеет опцию, которая позволяет включить конфигурирование на уровне директорий. Если эта опция включена, то Apache будет искать конфигурационные директивы в директориях с контентом в специальных скрытых файлах, которые называются .htaccess.</p>

<p>Nginx не интерпретирует файлы .htaccess и не предоставляет механизм конфигурирования на уровне директорий за пределами основного конфигурационного файла.</p>

<p>° Nginx обычно используется там, где предъявляются повышенные требования к производительности.</p>

<p><b><i>3. Где в Linux хранятся основные лог файлы? </i></b></p>

<p>Операционные системы ведут подробный протокол собственных действий, записывая всё происходящее в текстовые файлы, log-файлы, лог-файлы или <i>логи</i>. Это обычные текстовые файлы, которые можно прочесть любым текстовым редактором (или средствами самой операционной системы), хотя многие логи доступны на чтение только пользователю root.</p>

<p>Все лог-файлы должны лежать в одном каталоге, который находится тут: /var/log/</p>

<p>К примеру, там находятся такие логи как:</p>

<p><strong>/var/log/auth.log</strong> - содержит информацию об авторизации пользователей в системе, включая пользовательские логины и механизмы аутентификации, которые были использованы.</p>

<p><strong>/var/log/boot.log</strong> - Содержит информацию, которая регистрируется при загрузке системы.</p>

<p><b>/var/log/faillog</b> - лог системы linux, содержит неудачные попытки входа в систему.</p>

<p>и множество других.</p>

<p><b><i>4. Где Apache, Nginx, MySQL хранит лог файлы?</i></b></p>

<p>Логи web-сервера делятся на два типа: логи ошибок и логи доступа (в него записываются данные о запросах пользователей, как только эти запросы обработаны).</p>

<p>Логи сервера, в том числе логи apache хранятся в каталоге /var/log/. Логи apache имеют такие названия:</p>

<p>(/var/log/apache2/access.log) и (/var/log/apache2/error.log)</p>

<p>В Nginx также два основных лога error_log и access_log.</p>

<p>Они находятся в директории /var/log/nginx/.</p>

<p>Лог-файл MySQL находится в:</p>

<p>/var/log/mysqld.log</p>

<p><b><i>5. Что такое HTML, JAVASCRIPT, PHP, AJAX. В чем различие между JAVASCRIPT, AJAX и PHP?</i></b></p>

<p><i>HTML</i> — стандартизированный язык разметки документов во Всемирной паутине. Большинство веб-страниц содержат описание разметки на языке HTML. Язык HTML интерпретируется браузерами; полученный в результате интерпретации форматированный текст отображается на экране монитора компьютера или мобильного устройства.</p>

<p><i>JavaScript </i>— прототипно-ориентированный сценарный язык программирования. </p>

<p>JavaScript обычно используется как встраиваемый язык для программного доступа к объектам приложений. Наиболее широкое применение находит в браузерах как язык сценариев для придания интерактивности веб-страницам.</p>

<p><i>PHP</i> — скриптовый язык общего назначения, интенсивно применяемый для разработки веб-приложений.</p>

<p>(PHP обрабатывается сервером (выполняется код) и итогом этой обработки является html. Непосредственно HTML демонстрируется как есть, без обработки, сервер просто выводит файл по запросу. Соответственно, сайты, созданные посредством PHP, динамичны, созданные на html – статичны.)</p>

<p><i>AJAX</i> — подход к построению интерактивных пользовательских интерфейсов веб-приложений, заключающийся в «фоновом» обмене данными браузера с веб-сервером. В результате, при обновлении данных веб-страница не перезагружается полностью, и веб-приложения становятся быстрее и удобнее.</p>

<p>ü JavaScript изначально создавался для того, чтобы сделать web-странички «живыми». Программы на этом языке называются скриптами. В браузере они подключаются напрямую к HTML и, как только загружается страничка – тут же выполняются. </p>

<p>В браузере JavaScript умеет делать всё, что относится к манипуляции со страницей, взаимодействию с посетителем и, в какой-то мере, с сервером:</p>

<p>- Создавать новые HTML-теги, удалять существующие, менять стили элементов, прятать, показывать элементы и т.п.</p>

<p>- Реагировать на действия посетителя, обрабатывать клики мыши, перемещения курсора, нажатия на клавиатуру и т.п.</p>

<p>- Посылать запросы на сервер и загружать данные без перезагрузки страницы (эта технология называется "AJAX").</p>

<p>- Получать и устанавливать cookie, запрашивать данные, выводить сообщения и так далее.</p>

<p>ü Ajax</p>

<p>В классической модели веб-приложения:</p>

<p>- Пользователь заходит на веб-страницу и нажимает на какой-нибудь её элемент.</p>

<p>- Браузер формирует и отправляет запрос серверу.</p>

<p>- В ответ сервер генерирует совершенно новую веб-страницу и отправляет её браузеру и т. д., после чего браузер полностью перезагружает всю страницу.</p>

<p>При использовании AJAX:</p>

<p>- Пользователь заходит на веб-страницу и нажимает на какой-нибудь её элемент.</p>

<p>- Скрипт (на языке JavaScript) определяет, какая информация необходима для обновления страницы.</p>

<p>- Браузер отправляет соответствующий запрос на сервер.</p>

<p>- Сервер возвращает только ту часть документа, на которую пришёл запрос.</p>

<p>- Скрипт вносит изменения с учётом полученной информации (без полной перезагрузки страницы).</p>

<p>AJAX — это технология, созданная на языке JavaScript, которая асинхронно запрашивает и получает с сервера данные, предоставляющие желаемый результат.</p>

<p>В основе технологии AJAX лежит объект XMLHttpRequest.</p>

<p>XMLHttpRequest — API (интерфейс программирования приложений), доступное в скриптовых языках браузеров, таких как JavaScript. Использует запросы HTTP или HTTPS напрямую к веб-серверу и загружает данные ответа сервера напрямую в вызывающий скрипт. Информация может передаваться в любом текстовом формате, например, в XML или HTML. Позволяет осуществлять HTTP-запросы к серверу без перезагрузки страницы.</p>

<p>ü PHP выполняется на стороне сервера, JavaScript исполняется браузером, на компьютере пользователя.</p>

<p><b></b></p>

<p><b><i>6. Что такое PHP, как узнать информацию о текущей версии PHP и текущих настройка PHP? </i></b></p>

<p><i>PHP</i> — скриптовый язык общего назначения, интенсивно применяемый для разработки веб-приложений.</p>

<p>Узнать информацию о текущей версии PHP и текущих настройка PHP можно с помощью следующих функций:</p>

<p>ü phpversion ( в PHP 4, PHP 5, PHP 7)</p>

<p>phpversion — Выдает текущую версию PHP. </p>

<p>В качестве параметра можно ввести имя расширения extension. Если задан аргумент extension, phpversion() вернет версию этого расширения или FALSE, если информации о версии нет или расширение в данный момент не подключено.</p>

<p>Пример использования phpversion()</p>

<p>&lt;?php</p>

<p>echo 'Текущая версия PHP: ' . phpversion(); // Выводит строку типа 'Текущая версия PHP: 4.1.1'</p>

<p>echo phpversion('tidy'); // Выводит строку типа '2.0' или ничего, если расширение не подключено</p>

<p>?&gt;</p>

<p>ü phpinfo ( в PHP 4, PHP 5, PHP 7)</p>

<p>Выводит большое количество информации о текущем состоянии PHP. Сюда входит информация о настройках компиляции PHP, о расширениях, о версии, информация о сервере и среде выполнения (если PHP компилировался как модуль), окружении PHP, версии ОС, о путях, об основных и локальных значениях настроек конфигурации, о HTTP заголовках и лицензии PHP.</p>

<p>Так как каждая система имеет свои особенности, phpinfo() используется в основном для проверки настроек конфигурации.</p>

<p>В качестве параметров данной функции могут использоваться:</p>

<table border="1" cellspacing="0" cellpadding="0" > 
<tbody>
<tr>
<td valign="top" ><p>Имя (константа)</p></td>
<td valign="top" ><p>Значение</p></td>
<td valign="top" ><p>Описание</p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_GENERAL</p></td>
<td valign="top" ><p>1</p></td>
<td valign="top" ><p>Строка конфигурации, расположение php.ini, дата сборки, Web-сервер, Система и др.</p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_CREDITS</p></td>
<td valign="top" ><p>2</p></td>
<td valign="top" ><p>Разработчики PHP. </p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_CONFIGURATION</p></td>
<td valign="top" ><p>4</p></td>
<td valign="top" ><p>Текущие значение основных и локальных PHP директив. </p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_MODULES</p></td>
<td valign="top" ><p>8</p></td>
<td valign="top" ><p>Загруженные модули и их настройки. </p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_ENVIRONMENT</p></td>
<td valign="top" ><p>16</p></td>
<td valign="top" ><p>Информация о переменных окружения</p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_VARIABLES</p></td>
<td valign="top" ><p>32</p></td>
<td valign="top" ><p>Выводит все предопределенные переменные из EGPCS (Environment, GET, POST, Cookie, Server).</p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_LICENSE</p></td>
<td valign="top" ><p>64</p></td>
<td valign="top" ><p>Информация о лицензии PHP. См. также » license FAQ.</p></td>
</tr>

<tr>
<td valign="top" ><p>INFO_ALL</p></td>
<td valign="top" ><p>-1</p></td>
<td valign="top" ><p>Выводит все приведенное выше.</p></td>
</tr>

</tbody>
</table>

<p>Пример использования phpinfo()</p>

<p>&lt;?php</p>

<p>// Показывать всю информацию, по умолчанию INFO_ALL</p>

<p>phpinfo();</p>

<p>// Показывать информацию только о загруженных модулях.</p>

<p>// phpinfo(8) выдает тот же результат.</p>

<p>phpinfo(INFO_MODULES);</p>

<p>?&gt;</p>

<p><b><i>7. PHP как модуль Apache или PHP как FastCGI. Плюсы и минусы.</i></b> </p>

<p>Интерфейс FastCGI — клиент-серверный протокол взаимодействия веб-сервера и приложения, дальнейшее развитие технологии CGI. По сравнению с CGI является более производительным и безопасным.</p>

<p>Работа сервера в режиме FastCGI не сильно отличается от обычного режима, с одной лишь разницей - процессы не создаются каждый раз при обращении к скриптам, а остаются в памяти, поэтому один процесс может обработать множество запросов, в связи с чем уменьшается отклик сервера.</p>

<p>PHP, как модуль Apache</p>

<p>В данном случае для работы PHP используется модуль веб-сервера apache mod_php.</p>

<p><i>Достоинства</i></p>

<p>° Самая высокая скорость работы скриптов, по сравнению с другими методами (на больших количествах запросов).</p>

<p>° Простота работы, сервер сам обрабатывает скрипты.</p>

<p>° Общий конфигурационный файл для всех скриптов (php.ini).</p>

<p>° Возможность задания переменных конфигурации PHP в конфигурационном файле web-сервера или средствами файла .htaccess</p>

<p><i>Недостатки</i></p>

<p>° Все скрипты запускаются с правами с которым работает web-сервер, тем самым если есть необходимость записи в какую либо директорию – права доступа необходимо дать на неё всем, т.е. низкая безопасность.</p>

<p>° В случае запуска сторонних приложений скриптами (например, почтовая рассылка), нет возможности идентифицировать пользователя, который запустил процесс.</p>

<p>° Излишняя нагрузка на web-сервер. Apache, занятый обработкой скриптов, может медленно отдавать другие статические данные.</p>

<p>° Ошибки в скриптах могут привести к неработоспособности всего web-сервера.</p>

<p>PHP, как FastCGI</p>

<p>При этом используется модуль Apache mod_fastcgi, скрипты передаются его средствами на вход интерпретатора PHP.</p>

<p><i>Достоинства</i></p>

<p>° Все скрипты выполняются с правами пользователя – владельца www-домена.</p>

<p>° Возможность индивидуальной настройки PHP для каждого пользователя.</p>

<p>° Меньший расход оперативной памяти по сравнению с модулем apache.</p>

<p>° Ошибки в скриптах не приводят к падению веб-сервера в отличие от режима PHP как модуль apache.</p>

<p>° За счет кэширования некоторых промежуточных данных скрипт не интерпретируется каждый раз при выполнении и достигается более высокая скорость по сравнению с PHP как CGI.</p>

<p><i>Недостатки</i></p>

<p>° Лишний процесс пользователя (php-cgi) находится в памяти после первого обращения к процессу.</p>

<p>Таким образом, использование FastCGI является более <i>безопасным</i>, как с точки зрения прав доступа, так и с точки зрения наличия ошибок в работе посторонних скриптов, и более <i>экономичным и быстрым</i> способом работы PHP-скриптов. mod_php, в свою очередь, имеет некоторое увеличение быстродействия при большой (в тысячи соединений) нагрузке на сайт.</p>

<p><b><i>8. Как настраиваются виртуальные хосты в связке Apache + Nginx? Схема. Принцип работы. </i></b></p>

<p>Apache разделяет свои функциональные возможности и компоненты на отдельные части, которые могут быть настроены и сконфигурированы независимо друг от друга. Базовая часть, которая отвечает за отдельный сайт или домен называется виртуальным хостом (virtual host).</p>

<p>Эта система позволяет администратору использовать один сервер, чтобы раздавать несколько сайтов используя один интерфейс или IP. Это удобно для тех, кто хочет использовать один VPS (физически выделенный сервер) для хранения нескольких сайтов.</p>

<p>Каждый настроенный соответствующим образом домен будет направлять пользователя к определенной директории сервера, содержащей информацию этого сайта, соответствующего домену. При этом посетитель сайта не узнает, что данный сервер хранит и другие сайты. Эта схема может расширяема без каких-либо ограничений со стороны программного обеспечения до тех пор, пока сервер будет справляться с нагрузкой.</p>

<p>Шаг 1 – создание директорий.</p>

<p>sudo mkdir /var/www/mysite</p>

<p>Создание index-файлы с соответствующим содержимым:</p>

<p>sudo nano /var/www/mysite/index.php</p>

<p>Шаг 2 – назначение прав.</p>

<p>Теперь у нас есть структура директорий для наших файлов, но владелец этих директорий - root-пользователь. Если мы хотим, чтобы наши обычные пользователи могли изменять файлы в наших веб-директориях, мы можем изменить их владельца следующим образом:</p>

<p>sudo chown -R $USER:$USER /var/www/mysite/</p>

<p>Переменная $USER содержит имя пользователя, под которым вы залогинены в текущий момент. </p>

<p>Шаг 3 – создание конфигурационных файлов новых сайтов. (Из дефолтного конфига)</p>

<p>Файлы виртуальных хостов задают их конфигурацию, и определяют, как именно веб-сервер Apache будет отвечать на запросы к разным доменам.</p>

<p>По умолчанию, Apache имеет файл виртуального хоста default.conf, который мы можем использовать в качестве отправной точки. Мы собираемся скопировать его, чтобы создать файлы виртуального хоста для каждого из наших доменов.</p>

<p>Мы начнем с одного домена, сконфигурируем его, скопируем для другого домена, и затем снова сделаем необходимые правки. Конфигурация Ubuntu по-умолчанию требует, чтобы каждый файл виртуального хоста заканчивался расширением .conf.</p>

<p>sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/mysite</p>

<p>Шаг 3.1 Редактируем конфиги новых сайтов</p>

<p>sudo nano /etc/apache2/sites-available/mysite</p>

<p>Добавляем название сайта и меняем путь к папке.</p>

<p>Шаг 4 – активация новых виртуальных хостов.</p>

<p>sudo a2ensite mysite</p>

<p>После завершения необходимо перезапустить Apache, чтобы изменения вступили в силу:</p>

<p>sudo service apache2 restart</p>

<p>Если создаются несколько хостов чтобы проверить работу второго сайта надо отключить первый:</p>

<p>sudo a2dissite mysite.conf</p>

<p>Активировать второй, перезапустить Apache, активировать первый и снова перезапустить Apache.</p>

<p>Nginx:</p>

<p>Создаём из дефолтного конфига, конфиги для виртуального(ых) хоста(ов):</p>

<p>sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/mysite.conf</p>

<p>Редактируем конфиг </p>

<p>server {</p>

<p>listen 80;</p>

<p>root /var/www/mysite;</p>

<p>index index.html index.php index.htm;</p>

<p>server_name mysite.ru www.mysite.ru;</p>

<p># таким образом всё что касается phpMyadmin, будет отдавать Apache и страница будет корректно отображаться. </p>

<p>location ~* ^(?!/phpmyadmin/).+\.(jpg|jpeg|gif|png|css|zip|tgz|gz|rar|bz2|doc|xls|exe|pdf|ppt|tar|wav|b$</p>

<p>access_log off;</p>

<p>expires 30d;</p>

<p>}</p>

<p># запрет на доступ к .htaccess</p>

<p>location ~ /\.ht {</p>

<p>deny all;</p>

<p>}</p>

<p># передача запроса апачу</p>

<p>location / {</p>

<p>proxy_pass http://127.0.0.1:81/; # Порт на котором висит Apache</p>

<p>proxy_set_header X-Real-IP $remote_addr;</p>

<p>proxy_set_header X-Forwarded-for $remote_addr;</p>

<p>proxy_set_header Host $host;</p>

<p>proxy_connect_timeout 300;</p>

<p>proxy_send_timeout 300;</p>

<p>proxy_read_timeout 300;</p>

<p>proxy_redirect off;</p>

<p>proxy_set_header Connection close;</p>

<p>proxy_pass_header Content-Type;</p>

<p>proxy_pass_header Content-Disposition;</p>

<p>proxy_pass_header Content-Length;</p>

<p>}</p>

<p>}</p>

<p>В конфигах прописываются названия сайта, путь к папке, где он находится, передача некоторых запросов на другой порт, к Apache.</p>

<p>Создаём ссылку на новый конфиг:</p>

<p>sudo ln -s /etc/nginx/sites-available/mysite.conf /etc/nginx/sites-enabled/mysite.conf</p>

<p>Рестартуем nginx:</p>

<p>sudo service nginx restart</p>

<p>PS Для одновременной работы нескольких виртуальных хостов необходимо отредактировать файл hosts. </p>

<p>sudo nano /etc/hosts</p>

<p>Необходимо прописать в нем адреса и названия сайтов.</p>

<p>127.0.0.1 localhost</p>

<p>127.0.1.1 guest-desktop</p>

<p>127.0.0.1 mysite.ru</p>

<p><b></b></p>

<p><b><i>9. Для чего нужны файлы .htaccess и .ftpaccess? </i></b></p>

<p><strong>.htaccess</strong> (с точкой в начале имени) - это файл-конфигуратор Apache-серверов, который дает возможность конфигурировать работу сервера в отдельных директориях (папках), не предоставляя доступа к главному конфигурационному файлу (apache/conf/httpd.conf).</p>

<p>Файл .htaccess может быть размещен в корневом каталоге веб-сервера (прямо в каталоге www). В этом случае директивы из такого .htaccess действуют по всему веб-серверу. Также .htaccess может находиться и в конкретном подкаталоге сервера. Действие директив из .htaccess наследуется сверху вниз, но не наоборот. Изменения, внесенные в файл, вступают в силу немедленно. Это связано с тем, что информация из .htaccess перечитывается при каждом обращении к веб-серверу Apache.</p>

<p>Примеры использования файла .htaccess:</p>

<p>- Переопределение страниц ошибок</p>

<p>- Перенаправление со старого домена на новый</p>

<p>- Переопределение главной страницы сайта</p>

<p>- Блокировка переходов со сторонних ресурсов</p>

<p>- <i>Ограничение доступа к сайту по IP: </i></p>

<p>Запретить доступ к сайту с IP-адресов 123.4.5.6 и 123.5.4.3</p>

<p>Order Allow,Deny</p>

<p>Allow from all</p>

<p>Deny from 123.4.5.6 123.5.4.3</p>

<p>Запретить доступ к сайту со всех адресов кроме 123.4.5.6 и 123.5.4.3:</p>

<p>Order Deny,Allow</p>

<p>Deny from all</p>

<p>Allow from 123.4.5.6 123.5.4.3</p>

<p>Запретить доступ к сайту для всех:</p>

<p>Deny from all<br />
<br />
</p>

<p>(Для сервера FTP. FTP-сервер является неотъемлемой частью любого веб-сервера):</p>

<p>Для изменения прав доступа к директориям Вашей площадки для различных FTP-пользователей можно использовать конфигурационный файл .ftpaccess, структура и функциональность которого во многом похожа на конфигурационный файл Apache — .htaccess.</p>

<p>Для ftp-сервиса предусмотрено управление доступом. Управление производится с помощью файла .ftpaccess. Данный файл создаётся в директории, доступ к которой требуется изменить. В общем случае, содержимое .ftpaccess с использованием директивы «Limit» будет следующим:</p>

<p>&lt;Limit параметр&gt;</p>

<p>...</p>

<p>&lt;/Limit&gt;</p>

<p>Параметрами в данном случае могут быть ALL, DIRS, LOGIN, READ, WRITE, либо отдельные ftp-команды.</p>

<p>ALL – все ftp-команды</p>

<p>DIRS – ftp-команды: CDUP, CWD, LIST, MDTM, NLST, PWD, RNFR, STAT, XCUP, XCWD, XPWD</p>

<p>LOGIN – ftp-логин</p>

<p>READ – ftp-команды: RETR, SIZE</p>

<p>WRITE – ftp-команды: APPE, DELE, MKD, RMD, RNTO, STOR, STOU, XMKD, XRMD</p>

<p>Чтобы запретить доступ по ftp, .ftpaccess будет следующим:</p>

<p>&lt;Limit ALL&gt;</p>

<p>Deny from all</p>

<p>&lt;/Limit&gt;</p>

<p>Если вы хотите разрешить доступ только с конкретного ip-адреса:</p>

<p>&lt;Limit ALL&gt;</p>

<p>Allow from xx.xx.xx.xx</p>

<p>Deny from all</p>

<p>&lt;/Limit&gt;</p>

<p>Где xx.xx.xx.xx – необходимый ip.</p>

<p><b><i>10. Какие варианты ограничений к директориям или файлам веб-сервера вы знаете. Назовите их.</i></b> </p>

<p>Варианты ограничения <i>доступа</i>.</p>

<p><strong>Самый распространенный и удобный способ ограничения доступа к директориям веб-сервера – файл </strong>.htaccess</p>

<p>1. Управление доступом к файлам и каталогам</p>

<p>Защита паролем — это одно, но иногда может понадобиться полностью блокировать доступ пользователей к определенному файлу или папке. Обычно это относится к системным папкам, таким, например, как includes, доступ к которым должны иметь приложения, но не пользователи.</p>

<p>Чтобы сделать это, поместите данный код в файл. htaccess и сохраните его в каталоге к которому закрываете доступ:</p>

<p>deny from all</p>

<p>Однако учитывайте, что доступ будет блокирован для всех пользователей, включая и вас. Открыть доступ для конкретного пользователя можно прописав его IP-адрес. Вот код, который для этого потребуется:</p>

<p>order deny,allow </p>

<p>deny from all </p>

<p>allow from xxx.xxx.xxx.xxx</p>

<p>где xxx. xxx. xxx. xxx — это ваш IP. Для задания разрешенных диапазонов IP-адресов вы можете заменить три последние цифры. Например, написав вместо них «0/12», вы зададите диапазон IP-адресов одной сети, что избавит вас от необходимости вводить в список все разрешенные IP-адреса отдельно.</p>

<p>Если вы хотите заблокировать доступ к определенному файлу, включая сам. htaccess, используйте следующий фрагмент кода:</p>

<p>&lt;Files .htaccess&gt;</p>

<p>order allow,deny</p>

<p>deny from all</p>

<p>&lt;/Files&gt;</p>

<p>Если вы хотите указать определенные IP-адреса, которым надо запретить доступ, перечислите их при помощи allow from.</p>

<p>Если же вы хотите заблокировать доступ к файлам определенного типа, используйте этот код:</p>

<p>&lt;FilesMatch ".(htaccess|htpasswd|ini|phps|fla|psd|log|sh)$"&gt;</p>

<p>Order Allow,Deny</p>

<p>Deny from all</p>

<p>&lt;/FilesMatch&gt;</p>

<p>Второй способ - использовать директиву &lt;Directory&gt; в файле конфигурации. </p>

<p>Определяя настройки доступа к каталогам сайта с помощью директивы &lt;Directory&gt; в одном конфигурационном файле всего сайта, мы получим следующие преимущества:</p>

<p>а) можно быть уверенным, что ничего не пропустим, если вдруг нужно изменить уровень доступа к какому-нибудь ресурсу;</p>

<p>б) повышаем скорость реакции сервера на запросы, т.к. все настройки загружаются при старте Apache.</p>

<p>Ну а мириться придётся с тем, что для каждого каталога необходимо описывать права отдельно (помним, что для подкаталогов права наследуются), даже если они одинаковые.</p>

<p><b></b></p>

<p><b><i>11. Для чего в Linux существуют /etc/hosts.allow и /etc/hosts.deny ?</i></b></p>

<p>Бывают ситуации, когда надо заблокировать доступ злоумышленникам на наш компьютер. Если разбираться с правилами iptables не нужно, то самое простое решение - добавить ip злоумышленника в hosts.deny. А hosts.allow служит как раз для противоположной цели.</p>

<p>После того, как TCP-пакеты были переданы компьютеру с Linux, среди других действий, их обрабатывают два файла - /etc/hosts.allow и /etc/hosts.deny. Эти два файла работают также, как и стандартные правила брандмауэра. Первоначально демон tcpd обрабатывает пакеты пропуская их через содержимое файла hosts.allow, а затем через файл hosts.deny.</p>

<p>Запомните это, так как если вы что-то напутаете в их содержании, то можете потерять доступ к вашим серверам (если вы настраиваете их удаленно). Если демон не находит ничего соответствующего в hosts.allow, он переходит к обработке файла hosts.deny.</p>

<p>Синтаксис этих файлов очень прост:</p>

<p>служба: IP-адрес или имя хоста</p>

<p>Так, например, если мы хотим блокировать все smtp-пакеты, идущие к нашему серверу от mail.test.ru, нам необходимо ввести в файл hosts.deny следующую строчку:</p>

<p>smtp: mail.test.ru</p>

<p>Мы можем также указать вместо имени хоста и его IP-адрес (лучше всего физический, тем самым избегая проблем в безопасности DNS-сервера):</p>

<p>smtp: 192.168.1.10</p>

<p><b></b></p>

<p><b><i>Часть 2.</i></b></p>

<p><b><i>1. Вид взлома «Загрузка файлов». Способы защиты. </i></b></p>

<p>Сайт может позволять посетителям загружать свои файлы с последующим отображением на своих страницах. Это могут быть, к примеру, изображения в формате JPEG. Важно ограничить типы загружаемых файлов, чтобы вместо картинки не был бы загружен исполняемый файл. <br />
<br />
При загрузке файла PHP в переменной $_FILES['userfile']['type'] возвращает mime-тип файла, для JPEG-изображения это будет image/jpeg. Может показаться, что проверка этого типа достаточна для уверенности в том, что загружено именно изображение. Также встречается идея пытаться читать файл изображения функциями getimagesize или imаgecreatefromjpeg. Однако тип файла здесь определяется на основе содержания, так что правильное JPEG-изображение, сохраненное с расширением .php, будет определено как image/jpeg. А называться будет xxxxx.php. Веб-сервер же, принимающий решение об обработчике (handler) для того или иного файла, смотрит именно на расширение. Злоумышленник берет корректную картинку, приписывает к ней в конец (или в EXIF-данные) php-скрипт, и сервер его исполняет, мы взломаны. <br />
<br />
Таким образом, контролировать для обеспечения безопасности следует именно расширение файла, а проверки через определение mime-type и через попытку открыть файл функцией getimagesize имеют смысл только для контроля того, что вместо картинки не будет загружен мусор, безвредный, но картинкой не являющийся. <br />
<br />
Также можно хранить файлы в директории, недоступной для непосредственного доступа посетителей веб-сервера, а отдавать их контент через скрипт. Это, однако же, увеличивает нагрузку на сервер и требует реализации базовой функциональности веб-сервера (выдачи даты последнего изменения и реакции на условные запросы типа "If-Modified-Since", выдачи корректных mime-type и поддержки докачки). <br />
<br />
Можно также в настройках веб-сервера для папки с пользовательскими файлами попытаться запретить исполнение скриптов директивой RemoveHandler, однако в ней придется указывать всевозможные расширения для файлов всех поддерживаемых конкретным веб-сервером обработчиков, что чревато пропуском какого-нибудь малоизвестного или нового обработчика.</p>

<p>Пример проверки на размер, mime-type и расширение загружаемого изображения: </p>

<p>if($_POST['action'] == 'changeAvatar') {</p>

<p>if($_FILES["filename"]["size"] &gt; 1024*3*1024)</p>

<p>{ echo ("Размер файла превышает три мегабайта");</p>

<p>exit;</p>

<p>}</p>

<p>// Проверяем загружен ли файл</p>

<p>if(is_uploaded_file($_FILES["filename"]["tmp_name"]))</p>

<p>{</p>

<p><b>$types_mime = array('image/gif', 'image/jpeg', 'image/jpg', 'image/png');</b></p>

<p><b> $types_ext = array('gif', 'jpeg', 'jpg', 'png');</b></p>

<p><b>// проверка на тип изображения(mime-type)</b></p>

<p>$flag_type = false;</p>

<p>foreach ($types_mime as $type) {</p>

<p><b>if($_FILES["filename"]["type"] == $type) {</b></p>

<p><b> $flag_type = true;</b></p>

<p>break;</p>

<p>}</p>

<p>}</p>

<p>$name = $_FILES["filename"]["name"] ;</p>

<p>$ext = $ext = end((explode(".", $name)));</p>

<p><b>// проверка расширения изображения</b></p>

<p>foreach ($types_ext as $type) {</p>

<p><b>if($ext == $type) {</b></p>

<p><b> $flag_type = true;</b></p>

<p>break;</p>

<p>} else {</p>

<p>$flag_type = false;</p>

<p>}</p>

<p><b></b></p>

<p><b><i>2. Вид взлома «Register Globals». Способы защиты. </i></b></p>

<p>В PHP есть функциональность "Register Globals" — автоматическое заведение переменных при поступлении их в запросе (GET, POST, COOKIE). То есть, к примеру, скрипт &lt;?php echo $a;?&gt;, будучи вызван как script.php?a=hello, напечатает "hello" при включенных register_globals. Если программист не следит за начальной инициализацией переменных, может возникнуть уязвимость, иллюстрируемая простым примером: <br />
<br />
if ($login == 'admin' &amp;&amp; $password == 'пароль админа') $is_admin = true; <br />
...... <br />
if ($is_admin) { <br />
какие-то действия, разрешенные только админу <br />
} <br />
Неопытному глазу может показаться, что без знания пароля админа мы не установим переменную $is_admin в true, она останется неопределенной, и if($is_admin) не выполнится. Но переменная $is_admin может быть установлена и путем вызова нашего скрипта с аргументом ?is_admin=1. И из-за того, что мы пропустили переменную из запроса (например, не написали в начале скрипта $is_admin = false), нас и похакали. <br />
<br />
Контролировать такие ситуации легче, если включить в PHP отображение всех ошибок, предупреждений (warnings) и замечаний (notices) директивой error_reporting. Мы бы увидели замечание о том, что используется неинициализированная переменная $is_admin. Это одна из причин к тому, чтобы писать скрипты, включив диагностические сообщения PHP на максимум. А также необходимо объявлять используемые переменные.</p>

<p><b><i>3. SQL-инъекции. Способы защиты. </i></b></p>

<p>Атаки SQL-инъекциями возможны против сайтов, которые не используют правильное разделение SQL-запросов и вставляемых в них данных. Пояснить суть SQL-инъекций лучше всего на примере. <br />
<br />
Пусть у нас есть доска объявлений, на ней регистрируются пользователи, мы разрешаем пользователям через интерфейс удалять свои записи. Вот код PHP-скрипта: <br />
<br />
mysql_query('DELETE FROM messages WHERE id='.$message_id.' AND user_id='.$user_id); <br />
Пояснения: переменная message_id приходит от ссылки "Удалить" ($_REQUEST['message_id']), в ней содержится идентификатор удаляемой записи (целое число); переменная user_id хранится в сессии, мы записываем в нее идентификатор пользователя при его успешной авторизации на сайте. <br />
<br />
Теперь предположим, что хакер подделал адрес ссылки для удаления и вместо «?message_id=15» отправил нам «?message_id=15 OR 1=1». После подстановки этого значения в запрос он станет таким: <br />
<br />
DELETE FROM messages WHERE id=15 OR 1=1 AND user_id=3 <br />
Мы видим, что данные стали выражением, в выражение попало логическое "или" (OR), в результате чего хакер "выключает" проверку user_id и может удалять чужие записи. В качестве разминки могу предложить придумать такой запрос, которым хакер удалит с нашей доски объявлений все записи разом. <br />
<br />
Другой пример: проверка логина и пароля пользователя, которые поступают в переменных $login и $password: <br />
<br />
mysql_query('SELECT id FROM users WHERE login="'.$login.'" AND password="'.$password.'"'); <br />
Если в $login хакер отправляет «admin" OR 1="1», то его пустят на сайт под логином admin даже без знания пароля: <br />
<br />
SELECT id FROM users WHERE login="admin" OR 1="1" AND password="" <br />
А если напишет «" OR 1=1 OR 1="1», то его вообще пустят под первым попавшимся в базе данных пользователем. <br />
<br />
Таким образом, основным правилом противодействия SQL-инъекциям является недопущение ситуации, когда данные интерпретируются как выражения. Нужно либо насильно приводить значения в ожидаемый тип (функции intval, floatval, если ожидается число), либо просто заключать их всех в кавычки и экранировать содержащиеся внутри них спецсимволы. <br />
<br />
В языке PHP есть специальная функция, экранирующая текст перед вставкой в MySQL-запрос, она называется mysql_real_escape_string. Используемые иногда вместо нее mysql_escape_string, addslashes и (да, да, встречаются и такие странные люди) htmlspecialchars либо неэффективны (см. мануал на www.php.net), либо предназначены для другого (как последняя). <br />
<br />
Изначально в язык PHP были введены так называемые «Волшебные кавычки» (Magic Quotes). Это функциональность, при которой PHP сам добавляет обратную косую черту перед всеми кавычками (и уже имеющимися обратными косыми чертами) в данных, поступающих скрипту извне. С одной стороны, это некоторым образом защищает скрипт, автор которого не заморачивал себе голову насчет безопасности своего творения. С другой стороны, данные "портятся" все подряд, даже те, которые и не предначены для запросов к базе. Не хочется же видеть на сайте приветствие "Здравствуйте, д\'Артаньян"? И приходится либо чистить данные функцией stripslashes, либо вообще отключать magic_quotes в настройках сервера. <br />
<br />
Да и защита через magic_quotes не стопроцентна: она не предотвратит первую из приведенных выше инъекций, с конструкцией «WHERE id='.$message_id» — кавычек вокруг аргумента и так нет, хакеру не нужно вставлять закрывающие кавычки. Также не учитывается кодировка соединения с базой данных. <br />
<br />
В конце концов, сами авторы PHP не советуют использовать «Magic Quotes» и прекращают их поддержку начиная с 6-ой версии PHP. <br />
<br />
Таким образом, уповать на то, что скрипт работает в условиях действующих magic_quotes, не следует, но следует обрабатывать данные перед вставкой в SQL-запросы функциями mysql_real_escape_string / pg_escape_string и обязательно заключать значения в SQL-запросе в кавычки. При этом крайне желательно подвергать такой обработке все данные, участвующие в SQL-запросах, насколько бы надежным ни казался их источник. <br />
<br />
Некоторые специалисты советуют применять для этого специальные конструкторы SQL-запросов, которые сами обеспечивают требуемое разделение запроса и данных.</p>

<p><b><i>4. XSS. Способы защиты. </i></b></p>

<p>XSS – это сокращение понятия, расшифровываемое как "межсайтовый скриптинг". В задачи межсайтового скриптинга и главной целью XSS является получение cookies пользователей атакуемого сайта путем встраивания вредоносного кода в тело HTML страницы. <br />
<br />
В отличии от SQL инъекции, данный вид атак, с одной стороны безопасен для сервера и опасен для пользователей сайта. С другой стороны, если будут украдены cookies админа, то получив доступ к панели администрирования, у хакера будет больше вероятности добраться и до БД. <br />
<br />
Для того чтобы межсайтовый скриптинг сработал, хакеру необходимо выявить хотябы одну xss уязвимость. <br />
<br />
Как защититься от xss <br />
Если ваш сайт подвергается XSS атаке, вероятнее всего вы об этом узнаете не скоро, а может, и вовсе не узнаете. Поэтому для защиты от xss атак, нужно предотвращать все подобные попытки, хакеров, на корню. <br />
<br />
Чтобы придумать метод защиты от какой-либо атаки, нужно знать, как эти атаки проводятся и по какому принципу работают, поэтому давайте разбираться с теорией взлома через xss уязвимости. <br />
<br />
Как найти xss уязвимость на сайте <br />
Процесс поиска уязвимых мест очень прост и сводится к банальному отбору страниц с формами ввода. После того как вы нашли все страницы, с которых пользователи отправляют информацию на сервер, можно начинать выявление xss уязвимости. <br />
<br />
Допустим, найденная нами форма ввода является поиском по сайту. Определить является ли эта форма xss уязвимой, можно несколькими способами, подставив в поле одну из следующих инъекций: <br />
<br />
&lt;script&gt;alert("cookie: "+document.cookie)&lt;/script&gt; <br />
"&gt;&lt;script&gt;alert("cookie: "+document.cookie)&lt;/script&gt; <br />
‘&gt;&lt;''&gt;"&gt;&lt;script&gt;alert("cookie: "+document.cookie)&lt;/script&gt; <br />
Если в результате вы увидели нечто подобное: </p>

<p><br />
<br />
<br />
</p>

<p>Значит вы нашли xss уязвимость, и в дальнейшем нужно будет ее защитить от атак. <br />
<br />
Если ни один из вариантов не сработал, попробуйте вставить следующие подборки кода: <br />
<br />
&lt;body onload=alert(‘xss Уязвимость’)&gt; <br />
&lt;img src=javascript:alert(‘Защита от XSS не работает’)&gt; <br />
&lt;body background="javascript:alert(‘эй админ закрой xss уязвимости’)" &gt; <br />
&lt;style type="text/javascript"&gt;alert(‘Бум бум!’);&lt;/style&gt; <br />
Опять ничего не вышло? Тогда можете считать, что данная форма не уязвима к XSS атакам и уже защищена. <br />
Запомните все найденные XSS уязвимости, и не спешите завершать этап поиска слабых мест. <br />
<br />
Кроме форм и полей ввода, XSS уязвимыми могут быть страницы, обрабатывающие GET параметры. <br />
Например, страница такого типа http://yourdomain.ru/catalog?p=3 Может оказаться большой дырой в защите сайта. <br />
Подобно действиям, проделанным ранее в поле ввода, попробуйте подставить в параметр вышеперечисленные строки кода. <br />
<br />
http://yourdomain.ru/catalog?p="&gt;&lt;script&gt;alert("cookie: "+document.cookie) <br />
Вполне вероятно что вы вновь получите сообщение, как на картинке выше, выводящее на показ идентификатор сессии пользователя. <br />
<br />
Защита от XSS атак <br />
Теперь вы имеете представление о том как проводятся XSS инъекции, и конечно же понимаете что вместо вывода сообщения, информация будет уходить в руки злоумышленника. <br />
<br />
Для того чтобы защититься от XSS атак и устранить все возможные XSS уязвимости вашего сайта, достаточно перед работой с входными данными пропустить их через фильтр и заменить все опасные спец символы безопасными: <br />
$filter = array("&lt;", "&gt;"); <br />
$_GET['q']=str_replace ($filter, "|", $_GET['q']); <br />
Этих двух маленьких строчек кода достаточно для избегания больших проблем. Теперь если попытаться внедрить инъекцию через адресную строку или форму ввода <br />
<br />
http://yourdomain.ru/searh?q=»&gt;&lt;script&gt;alert(«cookie: «+document.cookie)&lt;/script&gt; <br />
<br />
Никаких сообщений мы больше не увидим, поскольку все скобки в переменной $_GET[‘q’] будут заменены на безопасные символы «|», и JS код станет невыполнимым. <br />
<br />
В этом примере показан способ защиты только одной переменной, на практике необходимо будет пропускать через подобный фильтр все входные параметры на всех страницах с XSS уязвимостями. <br />
<br />
Для массовой проверки входящих данных, методами POST и GET можно использовать такую функцию: <br />
function defender_xss($arr){ <br />
$filter = array("&lt;", "&gt;"); <br />
foreach($arr as $num=&gt;$xss){ <br />
$arr[$num]=str_replace ($filter, "|", $xss); <br />
} <br />
return $arr; <br />
} <br />
//используйте функцию перед обработкой входящих данных: <br />
$_REQUEST=defender_xss($_REQUEST); <br />
Кроме того будет не лишним дополнить фильтр другими символами для фильтрации: <br />
<br />
$filter = array("&lt;", "&gt;","="," (",")",";","/"); <br />
Альтернативным способом защиты будет использование штатных PHP функций: <br />
<br />
strip_tags() — удаляет из строки все HTML-теги, кроме разрешённых. <br />
htmlspecialchars() — заменяет все спецсимволы на их HTML-аналоги. </p>

<p>Каким образом воруются cookie пользователей? <br />
Не всем сразу может быть ясно, как происходит процесс получения cookie пользователей. <br />
<br />
Все дело в том, что после выявления XSS уязвимостей, хакер создает ссылку с вредоносным кодом. В этом коде данные из куков передаются на сторонний сервер, на котором обрабатываются и сохраняются, затем пользователь перенаправляется на страницу обратно. Все это происходит незаметно для человеческого глаза, и поэтому атака остается необнаруженной. <br />
<br />
Зараженные ссылки несущие в себе XSS атаки, попадают пользователям разнообразными способами, путем передачи ссылок в соц сетях , атах форумах и др местах скопления юзеров. <br />
<br />
Атаки построенные по принципу межсайтингового скриптинга делятся на два типа: <br />
<br />
Активные XSS атаки – подразумевают внедрение ссылки в саму страницу ресурса, сделать это можно путем вставки вредоносного кода в запись БД, или загрузив картинку на сайт указав в ней ссылку с вредоносным кодом. <br />
Пассивные XSS атаки – пользователь сам должен вставить ссылку в адресную строку или просто кликнуть по ней. <br />
Конечно ссылки предоставляемы хакерами, не выглядят таким образом: <br />
<br />
http://yourdomain.ru/searh?q=»&gt;&lt;script&gt;alert(«cookie: «+document.cookie)&lt;/script&gt; <br />
<br />
Существует множество способов закодировать содержание ссылки, таким образом скрыв смысл от жертвы. Кодировать можно в base64, hex, или использовать сторонний сервер для маршрутизации. <br />
<br />
http://hakerserver.com/82qdm6k <br />
data:text/html;base64,aHR0cDovL2luZm9zZXJ2aWNlNjozMDAwL2luZm8vc2VhcmNoLmh0bWw/cT0iPjxzY3JpcHQ+YWxlcnQoJycpPC9zY3JpcHQ+ <br />
http://infoservice6:3000/info/search.html?q=%22%3E%3Cscript%3Ealert(»)%3C%2Fscript%3E <br />
Согласитесь теперь сложно догадаться о том, что внутри ссылки зашифрован зловредный код. А если снабдиться ссылку красивыми вешанием лапши на уши пользователям и рассказать какая полезна эта ссылка, то единицы не перейдут по ней. Но это уже из области социальной инженерии… <br />
<br />
В дополнение к вышеприведенному способу защиты, можно использовать и защиту от XSS на сервере, прописав в .htaccess специальный код.<br />
Итак подведем итоги, данной статье, мы научились выявлять XSS уязвимости на своем сайте, создали фильтр не допускающий внедрения XSS инъекций, и защитились от XSS атак.</p>

<p><b><i>5. Что такое фишинг. Варианты использования. Способы защиты. </i></b></p>

<p>Фишинг — вид интернет-мошенничества, целью которого является получение доступа к конфиденциальным данным пользователей — логинам и паролям. Это достигается путём проведения массовых рассылок электронных писем от имени популярных брендов, а также личных сообщений внутри различных сервисов, например, от имени банков или внутри социальных сетей. В письме часто содержится прямая ссылка на сайт, внешне неотличимый от настоящего, либо на сайт с редиректом. После того, как пользователь попадает на поддельную страницу, мошенники пытаются различными психологическими приёмами побудить пользователя ввести на поддельной странице свои логин и пароль, которые он использует для доступа к определённому сайту, что позволяет мошенникам получить доступ к аккаунтам и банковским счетам.</p>

<p>Фишинг — одна из разновидностей социальной инженерии, основанная на незнании пользователями основ сетевой безопасности: в частности, многие не знают простого факта: сервисы не рассылают писем с просьбами сообщить свои учётные данные, пароль и прочее.</p>

<p>Варианты использования:</p>

<p>Социальная инженерия</p>

<p>Человек всегда реагирует на значимые для него события. Поэтому фишеры стараются своими действиями встревожить пользователя и вызвать его немедленную реакцию. Поэтому, к примеру, электронное письмо с заголовком «чтобы восстановить доступ к своему банковскому счёту …», как правило, привлекает внимание и заставляет человека пройти по веб-ссылке для получения более подробной информации.</p>

<p>Веб-ссылки</p>

<p>Большинство методов фишинга сводится к тому, чтобы замаскировать поддельные ссылки на фишинговые сайты под ссылки настоящих организаций. Адреса с опечатками или субдомены часто используются мошенниками.</p>

<p>Например, http://www.yourbank.example.com/ похож на адрес банка Yourbank, а на самом деле он ссылается на фишинговую составляющую сайта example.com.</p>

<p>Обход фильтров</p>

<p>Фишеры часто вместо текста используют изображения, что затрудняет обнаружение мошеннических электронных писем антифишинговыми фильтрами. Но специалисты научились бороться и с этим видом фишинга. Так, фильтры почтовых программ могут автоматически блокировать изображения, присланные с адресов, не входящих в адресную книгу.</p>

<p>Веб-сайты</p>

<p>Обман не заканчивается на посещении жертвой фишингового сайта. Некоторые фишеры используют JavaScript для изменения адресной строки. Это достигается либо путём размещения картинки с поддельным URL поверх адресной строки либо закрытием настоящей адресной строки и открытием новой с поддельным URL.</p>

<p>Злоумышленник может использовать уязвимости в скриптах подлинного сайта. Этот вид мошенничества (известный как межсайтовый скриптинг) наиболее опасен, так как пользователь авторизуется на настоящей странице официального сайта, где всё, — от веб-адреса до сертификатов, выглядит подлинным. Подобный фишинг очень сложно обнаружить без специальных навыков.</p>

<p>Новые угрозы</p>

<p>Сегодня фишинг выходит за пределы интернет-мошенничества, а поддельные веб-сайты стали лишь одним из множества его направлений. Письма, которые якобы отправлены из банка, могут сообщать пользователям о необходимости позвонить по определённому номеру для решения проблем с их банковскими счетами. Эта техника называется вишинг (голосовой фишинг). Позвонив на указанный номер, пользователь заслушивает инструкции автоответчика, которые указывают на необходимость ввести номер своего счёта и PIN-код. К тому же вишеры могут сами звонить жертвам, убеждая их, что они общаются с представителями официальных организаций, используя фальшивые номера. В конечном счёте, человека также попросят сообщить его учётные данные.</p>

<p>Набирает свои обороты и SMS-фишинг, также известный как смишинг. Мошенники рассылают сообщения, содержащие ссылку на фишинговый сайт, — входя на него и вводя свои личные данные, жертва аналогичным образом передаёт их злоумышленникам. В сообщении также может говориться о необходимости позвонить мошенникам по определённому номеру для решения «возникших проблем». Встречается и следующий вид SMS-фишинга: на подставном сайте для получения какой-либо услуги просят отправить SMS на предложенный номер или ввести свой номер сотового телефона, чаще всего это фэйки файлообменных сервисов. В первом случае с телефонного счёта абонента списывается крупная (возможно, максимальная предусмотренная контрактом) сумма, во втором случае номер добавляется в базу адресов рассылки SMS-спама и может использоваться для дальнейших фишинговых действий.</p>

<p>Существуют различные методы для борьбы с фишингом, включая законодательные меры и специальные технологии, созданные для защиты от фишинга.</p>

<p>Обучение пользователей</p>

<p>Один из методов борьбы с фишингом заключается в том, чтобы научить людей различать фишинг и бороться с ним. Люди могут снизить угрозу фишинга, немного изменив своё поведение. Так, в ответ на письмо с просьбой «подтверждения» учётной записи (или любой другой обычной просьбой фишеров) специалисты советуют связаться с компанией, от имени которой отправлено сообщение, для проверки его подлинности. Кроме того, эксперты рекомендуют самостоятельно вводить веб-адрес организации в адресную строку браузера вместо использования любых гиперссылок в подозрительном сообщении.</p>

<p>Технические методы:</p>

<p>Браузеры, предупреждающие об угрозе фишинга</p>

<p>Другим направлением борьбы с фишингом является создание списка фишинговых сайтов и последующая сверка с ним.</p>

<p>Усложнение процедуры авторизации</p>

<p>Борьба с фишингом в почтовых сообщениях</p>

<p>Специализированные спам-фильтры могут уменьшить число фишинговых электронных сообщений, получаемых пользователями. Эта методика основывается на машинном обучении и обработке естественного языка при анализе фишинговых писем.</p>

<p><b><i>6. Что такое DoS-атака. Виды DDoS-атак. Способы защиты. </i></b></p>

<p>DoS (от англ. Denial of Service — отказ в обслуживании) — хакерская атака на вычислительную систему с целью довести её до отказа, то есть создание таких условий, при которых добросовестные пользователи системы не могут получить доступ к предоставляемым системным ресурсам (серверам), либо этот доступ затруднён.</p>

<p>Главной целью любой DoS-атаки является перегрузка сервера и создание таких условий его работы, при которых посетитель либо не может получить доступ к нему, либо доступ становится настолько медленным, что полноценная работа с сайтом становится невозможной. Как правило злоумышленники добиваются своей цели, отправляя на сервер бесчисленное множество бесполезных запросов, в результате сервер, обрабатывая их, перестает реагировать на запросы пользователей, они просто "тонут" в информационном "шуме". DoS-атаки используются злоумышленниками для оказания давления на неугодный им сетевой ресурс. Например, DoS-атакам часто подвергаются сайты компаний, занимающиеся торговлей через Интернет. Поскольку каждые сутки простоя таких сайтов грозят компании убытками, иногда значительными, злоумышленники шантажируют и угрожают владельцам DoS-атакой требуя выплатить им некоторую сумму. DoS-атаки могут использоваться в конкурентной борьбе, например известен случай, когда одна из компаний спутникового телевидения из Массачусетса оплатила DoS-атаку на сайты своих прямых конкурентов. Пока сайты конкурентов были недоступны, пользователи обращались за услугами к заказчику атаки. <br />
<br />
</p>

<p>DoS-атаки бывают одиночные - организуемые с одного компьютера, и распределенные (DDoS) в которых используется множество компьютеров. <br />
<br />
</p>

<p>ОСНОВНЫЕ ВИДЫ DDOS-АТАК <br />
В общем-то, разновидностей DDoS довольно много, и ниже мы постарались перечислить большинство типовых атак, с описанием принципа действия каждого типа атаки. <br />
<br />
UDP ФЛУД <br />
Один из наиболее действенных, и в то же время, простых видов атак. Используется UDP протокол, где не требуется установление сессии с отправкой любого типа ответа. В случайном порядке злоумышленник атакует порты сервера, отсылая огромное количество пакетов данных. В результате машина начинает проверять, используется ли порт, на который приходит пакет, каким-либо приложением. А поскольку таких пакетов — масса, то машина любой мощности просто не справляется с задачей. Как результат — все ресурсы машины «съедены», и сервер «ложится». <br />
<br />
Наиболее простой способ защиты от такого типа атак — это блокирование UDP трафика. <br />
<br />
ICMP ФЛУД <br />
Злоумышленник постоянно пингует сервер жертвы, в ходе чего последний постоянно отдает ответы. Пингов огромное количество, и, как результат — съедаются ресурсы сервера, и машина становится недоступной. <br />
<br />
В качестве меры защиты можно использовать блокировку ICMP-запросов, на уровне брандмауэра. К сожалению, в таком случае пинговать машину не получится по понятным причинам. <br />
<br />
SYN ФЛУД <br />
В этом типе атаки используется отправка SYN-пакета серверу жертвы. Как результат — сервер отвечает пакетом SYN-ACK, а машина злоумышленника должна отправить ACK-ответ, но он не отправляется. Результат — открытие и подвисание огромного количества соединений, которые закрываются только по истечению таймаута. <br />
<br />
При превышении граничного количества запросов/ответов сервер жертвы перестает принимать пакеты любого типа, и становится недоступным. <br />
<br />
MAC ФЛУД <br />
Необычный тип атаки, в котором объектом становится сетевое оборудование многих типов. Злоумышленник начинает отправлять большое количество Ethernet-пакетов с совершенно различными MAC-адресами. Как результат — свитч начинает резервировать под каждый из пакетов определенное количество ресурсов, и если пакетов много, то свитч выделяет все доступные запросы, и подвисает. Худший вариант — сбой таблицы маршрутизации. <br />
<br />
PING OF DEATH <br />
Сейчас этот тип атак не является сколько-нибудь серьезной проблемой, хотя раньше это был распространенный вариант атаки. Смысл такого типа атаки — переполнение буфера памяти из-за превышения максимально доступного размера IP пакета, и как результат — отказ сервера и сетевого оборудования от обслуживания любого типа пакетов. <br />
<br />
SLOWLORIS <br />
Сфокусированная атака такого типа позволяет малыми силами добиться крупных результатов. Другими словами, используя не самый мощный сервер, можно «положить» гораздо более производительное оборудование. При этом не требуется задействовать другие протоколы. При таком типе атак сервер злоумышленника открывает максимальное количество НТТР-соединений, и старается держать их открытыми также как можно дольше. <br />
<br />
Само собой, количество подключений на сервере, подверженному атаке, заканчивается, и полезные запросы перестают приниматься и обрабатываться. <br />
<br />
ОТРАЖЁННЫЕ АТАКИ <br />
Необычный тип атаки, когда сервер злоумышленника отправляет пакеты с фальшивым IP отправителя, причем отправка идет по максимально возможному количеству машин. Все затронутые такими действиями сервера отправляют ответ на укзанный в пакете IP, в результате чего получатель не справляется с нагрузкой и «подвисает». При этом производительность сервера атакующего может быть в 10 раз ниже планируемой мощности атаки. Сервер, рассылающий 100 Мбит/сек ложных запросов, может полностью положить гигабитный канал сервера жертвы. <br />
<br />
ДЕГРАДАЦИЯ <br />
При таком типе атаки сервер злоумышленника симулирует действия реального человека или целой аудитории. Как пример самого простого варианта — можно отсылать запросы для одной и той же страницы ресурса, причем делать это тысячи раз. Наиболее простой способ решения проблемы — временное сообщение об ошибки с блокированием атакуемой страницы. <br />
<br />
Более сложный тип атаки — запрос большого количества различных ресурсов сервера, включая медиафайлы, страницы и все прочее, в результате чего сервер жерты перестает работать. <br />
<br />
Сложные атаки такого типа довольно сложно отфильтровать, как результат — приходится использовать специализированные программы и сервисы. <br />
<br />
АТАКА НУЛЕВОГО ДНЯ <br />
Так называют атаки, где используются неизвестные доселе уязвимости/слабые места сервиса. Для борьбы с проблемой необходимо изучить такой тип атаки, чтобы можно было что-то предпринять. <br />
<br />
Вывод: наиболее сложным типом атаки являются комбинированные, где используются различные виды DDoS. Чем сложнее комбинация, тем сложнее от нее защититься. Общей проблемой для DDoS, вернее, для жертв DDoS, является общедоступность такого типа атак. В Сети есть большое количество приложений и сервисов, позволяющих бесплатно или почти бесплатно осуществлять мощнейшие атаки.</p>

<p>Есть несколько универсальных советов, которые помогут подготовить систему к DoS-атаке. <br />
<br />
Все серверы, которые имеют доступ во внешнюю сеть, должны быть подготовлены к удаленной аварийной перезагрузке. </p>

<p>Также желательно наличие второго сетевого интерфейса, через который по ssh-соединению можно быстро получить доступ к серверу. <br />
Программное обеспечение, которое установлено на сервере, должно быть в актуальном состоянии, а именно: должно быть установлено последнее ПО, касающееся обеспечения безопасности системы. <br />
Все сетевые сервисы должны быть защищены брандмауэром.</p>

<p><b><i>7. Как обнаружить DoS-атаку, какие признаки могут служить о наличии DDOS-атаки.</i></b></p>

<p>Существует мнение, что специальные средства для выявления DoS-атак не требуются, поскольку факт DoS-атаки невозможно не заметить. Во многих случаях это действительно так. Однако достаточно часто наблюдались удачные DoS-атаки, которые были замечены жертвами лишь спустя 2-3 суток. Бывало, что негативные последствия атаки (флуд-атаки) выливались в излишние расходы на оплату избыточного Internet-трафика, что выяснялось лишь при получении счёта от Internet-провайдера. Кроме того, многие методы обнаружения атак неэффективны вблизи объекта атаки, но эффективны на сетевых магистральных каналах. В таком случае целесообразно ставить системы обнаружения именно там, а не ждать, пока пользователь, подвергшийся атаке, сам её заметит и обратится за помощью. К тому же для эффективного противодействия DoS-атакам необходимо знать тип, характер и другие характеристики DoS-атак, а оперативно получить эти сведения как раз и позволяют службы обеспечения безопасности. Они помогают произвести некоторые настройки системы. Но определить, была ли данная атака произведена злоумышленником, либо отказ в обслуживании был следствием нештатного события, они не могут. В соответствии с правилами политики обеспечения безопасности, при обнаружении DoS или DDoS-атаки потребуется её регистрация для дальнейшего аудита. После того, как атака была зафиксирована, могут потребоваться службы обеспечения безопасности для некоторых корректировок в системе и для её возвращения к прежнему уровню работы. Также для обнаружения DDoS-атаки могут использоваться службы, не связанные с безопасностью, например, перенаправление трафика по другим каналам связи, включение резервных серверов для копирования информации. Таким образом, средства для обнаружения и предотвращения DDoS-атак могут сильно различаться в зависимости от вида защищаемой системы.<br />
<br />
Методы обнаружения DoS-атак можно разделить на несколько больших групп: <br />
<br />
сигнатурные — основанные на качественном анализе трафика. <br />
статистические — основанные на количественном анализе трафика. <br />
гибридные (комбинированные) — сочетающие в себе достоинства обоих вышеназванных методов.</p>

<p>Формальные признаки атак, по которым их можно легко определить. </p>

<p>Во-первых, число процессов Апача:</p>

<p>ps aux | grep apache | wc -l</p>

<p>Если их более 20-30, то это уже повод для беспокойства.</p>

<p>Далее обязательно просмотреть глобальные логи Апача на предмет наличия аномалий (например, запросов без указания вихоста):</p>

<p>/var/log/apache2/error.log </p>

<p>/var/log/apache2/access.log </p>

<p>Далее, стоит просмотреть логи всех сайтов и обратить особое внимание на самые большие из них.</p>

<p>Если "большой" лог найден, то его стоить проанализировать на предмет аномалий следующим образом: </p>

<p>cat log_type.log | awk '{print $1}' | sort | uniq -c</p>

<p>Эта команда укажет число запросов до сайта с уникальных айпи, вывод ее будет в виде:</p>

<p>14 95.67.xx.xx</p>

<p>21 95.68.xx.xx</p>

<p>25 95.68.xx.xx</p>

<p>15 95.68.xx.xx</p>

<p>Таким образом, если какой-то IP / блок айпи заваливает сайт запросами, это будет видно по резко уходящим в верх значениям запросов для IP злоумышленников.</p>

<p>Если же используется Nginx, то также обязательно просматривать логи:</p>

<p>/var/log/nginx/error.log </p>

<p>/var/log/nginx/access.log</p>

<p><b><i>8. Для чего чаще всего злоумышленники используют DOS-атаки? </i></b></p>

<p>DoS (от англ. Denial of Service — отказ в обслуживании) — хакерская атака на вычислительную систему с целью довести её до отказа, то есть создание таких условий, при которых добросовестные пользователи системы не могут получить доступ к предоставляемым системным ресурсам (серверам), либо этот доступ затруднён.</p>

<p>Главной целью любой DoS-атаки является перегрузка сервера и создание таких условий его работы, при которых посетитель либо не может получить доступ к нему, либо доступ становится настолько медленным, что полноценная работа с сайтом становится невозможной.</p>

<p>В целом при разговоре о причинах DoS/DDoS-атак чаще всего выделяют следующие случаи:</p>

<p>° конкуренция – недобросовестные компании могут заказывать атаки на ресурсы своих конкурентов для того, чтобы парализовать их работу;</p>

<p>° личная вражда – атаки могут быть организованы хакерами и по каким-нибудь личным причинам, чаще всего в этом случае страдают крупные корпорации и правительственные ресурсы, иногда атаки становятся результатом политического протеста;</p>

<p>° вымогательство – при помощи DoS/DDoS-атаки хакеры могут получить доступ и заблокировать систему, требуя выплату определенной суммы за разблокировку;</p>

<p>° шантаж – в некоторых случаях хакеры сообщают владельцам сайтов, что готовы не производить атаку на их ресурс, но только в случае, если те переведут на счет хакеров определенную денежную сумму;</p>

<p>° развлечение – так как подобные атаки становятся все более распространенными, все большее количество людей хочет попробовать себя в этом деле, зачастую только ради забавы.</p>

<p>Кстати, именно из-за такого разнообразия возможных причин предугадать DDoS-атаку становится практически невозможно – к сожалению, так или иначе ваш сайт находится в зоне риска, хотя, безусловно, чем более известен сайт, тем выше вероятность того, что кто-то хочет провести подобную атаку.</p>

<p><b><i>9. Для чего обычно злоумышленники используют SQL-инъекции? </i></b></p>

<p>Внедрение SQL, в зависимости от типа используемой СУБД и условий внедрения, может дать возможность атакующему выполнить произвольный запрос к базе данных (например, прочитать содержимое любых таблиц, удалить, изменить или добавить данные), получить возможность чтения и/или записи локальных файлов и выполнения произвольных команд на атакуемом сервере.</p>

<p>Злоумышленник может получить личную информацию пользователей сайта. Изменять пароли и другие записи базы данных.</p>

<p><b><i>10. Для чего обычно злоумышленники используют XSS? </i></b></p>

<p>Межсайтовый скриптинг использует известные уязвимости в web-приложениях, серверах (или в системных плагинах, относящихся к ним). Используя одну из них, злоумышленник встраивает вредоносный контент в содержание уже взломанного сайта. В результате пользователь получает объединенный контент в веб-браузере, который был доставлен из надежного источника, и, таким образом, действует в соответствии с разрешениями, предоставленными для этой системы. Сумев внедрить необходимый скрипт в веб-страницу, злоумышленник может получить повышенные привилегии в отношении работы с веб-страницами, cookies и другой информацией, хранящейся в браузере для данного пользователя.<br />
<br />
</p>

<p>XSS-атаки обычно используются в следующих преступных целях:</p>

<p>° Кража аккаунта;</p>

<p>° Получение доступа к защищенным или конфиденциальным данным;</p>

<p>° Получение бесплатного доступа к платному контенту;</p>

<p>° Слежение за посещением сайтов пользователем;</p>

<p>° Повреждение веб-приложения;</p>

<p>° DOS-атаки</p>

<p><b></b></p>

<p><b><i>11. Что такое PHP-Shell. Для чего он используется. </i></b></p>

<p>Ø Это некий вредоносный скрипт (программа), который злоумышленники используют для управления чужими сайтами и серверами.</p>

<p>Хотя тут требуется уточнение. Вредоносным он становится в случае если он загружен не вами на ваш сервер, а злоумышленником. Если он загружен вами, то обычно это очень даже полезный инструмент.</p>

<p>Ø PHPShell - скрипт php, позволяющий выполнять на веб-сервере shell-команды.</p>

<p>В большинстве случаев, после успешного взлома сайта, атакующий оставляет на сайте специализированные программы, коды или врезки в код легальных скриптов, обеспечивающие ему полный доступ к серверу. Эти программы, скрипты и коды называются шеллами.</p>

<p>Веб-шеллы, шеллы - обеспечивают атакующему полный доступ с возможностью контроля и управления над файловой системой сервера взломанного сайта и его баз данных.</p>

<p>Шеллы позволяют атакующему полностью управлять сервером (и самим сайтом соответственно) не проходя никакой аутентификации.</p>

<p>Веб-шеллы это мощные программные разработки, основной функционал которых заключается в работе с файловой системой сервера на уровне root доступа.</p>

<p>Как правило, веб-шеллы имеют графическую оболочку и удобный интерфейс, на подобии всем известных Far, MC, Norton Commander и др.</p>

<p>При открытии такого скрипта браузером - открывается специально-сформированная страница, на которой можно вводить команды, просматривать папки и файлы, закачивать новые файлы, редактировать существующие и т.д. В данном случае все напрямую зависит от возможностей скрипта-шелла и настроек сервера. Очень важно знать то, что на большинстве серверов наш скриптовый шелл будет исполняться от имени его обработчика. Так, если наш шелл написан на php, то и исполняться он будет с правами либо текущего пользователя (если установлены соответствующие настройки), либо веб-сервера (apache, nginx, IIS и т.д.).</p>
